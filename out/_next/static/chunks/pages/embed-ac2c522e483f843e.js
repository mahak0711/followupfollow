(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{21318:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/embed",function(){return a(81952)}])},81952:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(37876),l=a(14232),n=a(16042),o=a(82964),r=a(29917);let d=(0,n.Wp)({apiKey:"AIzaSyDeQvovey0J_Rz4szXmm8e1Zp3KL_-kMjI",authDomain:"followupfollow-6c896.firebaseapp.com",projectId:"followupfollow-6c896",storageBucket:"followupfollow-6c896.firebasestorage.app",messagingSenderId:"1:666938776431:web:46f60e52f5ba064b71a69a",appId:"G-MJDKP4LGB0"}),i=(0,r.xI)(d),c=(0,o.aU)(d);var u=a(33276);function m(e){let{onClose:t}=e,[a]=(0,u.hD)(i),[n,r]=(0,l.useState)({name:"",email:"",company:"",notes:"",followUpDate:""}),[d,m]=(0,l.useState)({}),[p,x]=(0,l.useState)(!1),[h,f]=(0,l.useState)(!1),w=()=>{let e={};return n.name||(e.name="Name is required"),n.email||(e.email="Email is required"),e},b=async e=>{e.preventDefault();let s=w();if(Object.keys(s).length>0)return m(s);x(!0);try{await (0,o.gS)((0,o.rJ)(c,"leads",a.uid,"items"),{...n,status:"New",createdAt:(0,o.O5)()}),r({name:"",email:"",company:"",notes:"",followUpDate:""}),f(!0),t()}catch(e){alert("Failed to submit lead."),console.error(e)}finally{x(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-lg relative",children:[(0,s.jsx)("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:t,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-stone-800 mb-4",children:"Add New Lead"}),h&&(0,s.jsx)("p",{className:"text-green-500 mb-4",children:"Lead added successfully!"}),(0,s.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[["name","email","company","notes","followUpDate"].map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"followUpDate"===e?"date":"text",placeholder:e[0].toUpperCase()+e.slice(1),className:"w-full text-stone-500 border rounded px-3 py-2",value:n[e],onChange:t=>r({...n,[e]:t.target.value})}),d[e]&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:d[e]})]},e)),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{type:"button",className:"px-4 py-2 bg-blue-300 rounded",onClick:t,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded",disabled:p,children:p?"Adding...":"Add Lead"})]})]})]})})}let p=()=>(0,s.jsxs)("div",{className:"max-w-xl mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Capture a Lead"}),(0,s.jsx)(m,{})]})}},e=>{var t=t=>e(e.s=t);e.O(0,[572,671,775,636,593,792],()=>t(21318)),_N_E=e.O()}]);